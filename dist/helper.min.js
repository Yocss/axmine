/**
 * @axmine/helper v1.0.9
 * (c) 2019-2020 yocss https://github.com/yocss/axmine.git
 * License: MIT
 * Released on: Aug 21, 2020
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).helper=t()}(this,function(){"use strict";function l(e){return Object.prototype.toString.call(e).slice(8,-1).toLocaleLowerCase()}var s,e;(e=s||(s={})).localStorage="localStorage",e.sessionStorage="sessionStorage",e.cookie="cookie";var n,t,o=function(){function e(){}return e.prototype.set=function(e,t,o){void 0===o&&(o={});var r=Object.assign({expireDays:7,type:s.localStorage},o),n=r.type,a=r.expireDays;return"cookie"===n?this.setCookie(e,t,a):this.setStorage(e,t,a,n)},e.prototype.get=function(e,t){return void 0===t&&(t=s.localStorage),"cookie"===t?this.getCookie(e):this.getStorage(e,t)},e.prototype.remove=function(e,t){return void 0===t&&(t=s.localStorage),"cookie"===t?this.removeCookie(e):this.removeStorage(e,t)},e.prototype.setStorage=function(e,t,o,r){void 0===o&&(o=7),void 0===r&&(r=s.localStorage);var n=!(!window||!window[r]);if(n)try{var a=0<o?1*(new Date).getTime()+864e5*o:0,i=JSON.stringify({v:t,t:a});window[r].setItem(e,i),n=this.getStorage(e)===t}catch(e){n=!1,console.error("数据格式化失败")}return n},e.prototype.getStorage=function(e,t){void 0===t&&(t=s.localStorage);var o="";if(window&&window[t])try{var r=window[t].getItem(e)||'{"v":"","t":0}',n=JSON.parse(r),a=(new Date).getTime();o=n.v,"localStorage"===t&&0<n.t&&a>n.t&&(o="",this.removeStorage(e))}catch(e){console.error("数据格式错误")}return o},e.prototype.removeStorage=function(e,t){void 0===t&&(t=s.localStorage);var o=!(!window||!window[t]);return o&&(window[t].removeItem(e),o=""===this.getStorage(e)),o},e.prototype.setCookie=function(e,t,o){void 0===o&&(o=7);var r=window&&window.navigator.cookieEnabled;if(r){var n=new Date;n.setDate(n.getDate()+o);var a=o?";expires="+n.toUTCString():"";document.cookie=e+"="+escape(t)+a,r=this.getCookie(e)===t}return r},e.prototype.getCookie=function(e){var t="";if(window&&window.navigator.cookieEnabled&&0<document.cookie.length){var o=document.cookie.indexOf(e+"=");if(0<=o){o=o+e.length+1;var r=document.cookie.indexOf(";",o);-1===r&&(r=document.cookie.length),t=unescape(document.cookie.substring(o,r))}}return t},e.prototype.removeCookie=function(e){var t=window&&window.navigator.cookieEnabled;return t&&(t=!!this.getCookie(e))&&this.setCookie(e,"",-1),t},e}(),d=["required","len","min","max","enum","type","pattern","validator"];function c(e,t){var o={status:!0,message:e.message||""},r=Object.keys(e),n=l(t),a=!1,i=/^\s+$/.test(t)||["",void 0,null].includes(t);if(r.includes("required")&&e.required&&(o.status=!i,a=!0===e.required),!(!a&&i)&&o.status)for(var s=0;s<r.length;s++){var c=e[r[s]];if(d.includes(r[s]))switch(r[s]){case"len":o.status=t.length===1*c;break;case"min":o.status="number"===n?c<=t:t.length>=c;break;case"max":o.status="number"===n?t<=c:t.length<=c;break;case"enum":o.status=c.includes(t);break;case"type":o.status=c.toLowerCase()===n;break;case"pattern":var u=new RegExp(c);o.status=u.test(t);break;case"validator":if("function"!==l(c))throw new Error("validator 不是一个函数");o.status=c(t)}if(!o.status)break}return o}function r(t,e){var o,r=e;void 0!==e.key&&void 0!==e.value&&((o={})[e.key]=e.value,r=o),Object.keys(r).forEach(function(e){"object"===l(r[e])?Object.assign(t[e],r[e]):(t[e],r[e])})}(t=n||(n={})).Float="float",t.Int="int";var a={mutations:{SET_STORE:function(t,e){var o=l(e);if(!["array","object"].includes(o))throw new Error("data 类型不正确");switch(o){case"array":e.forEach(function(e){r(t,e)});break;case"object":r(t,e)}}},actions:{SetStore:function(e,t){(0,e.commit)("SET_STORE",t)}}};return{formatDate:function(e,t){void 0===t&&(t="y-m-d h:i");var o=new Date(1e3*e);function r(e){return e<10?"0"+e:e.toString()}return t.replace(/\w/g,function(e){var t=e.toLowerCase();return{y:o.getFullYear(),m:r(o.getMonth()+1),d:r(o.getDate()),h:r(o.getHours()),i:r(o.getMinutes()),s:r(o.getSeconds()),w:["天","一","二","三","四","五","六"][o.getDay()]}[t]||""})},getType:l,store:new o,validate:function(a,i){var s={status:!0,infos:[]};return Object.keys(a).forEach(function(e){for(var t=[].concat(a[e]),o=i[e],r=0;r<t.length;r++){var n=c(t[r],o);if(!n.status){s.infos.push({message:n.message,key:e});break}}}),s.status=s.infos.length<1,s},random:function(e,t,o){if(void 0===e&&(e=0),void 0===t&&(t=1),void 0===o&&(o=n.Float),"number"!==l(e)||"number"!==l(t))throw Error("min and max must be a number");if(t<e)throw Error("min or max is outside of its valid range.");var r=Math.random()*(t-e+1)+e;return"int"===o&&(r=Math.floor(r)),r},camelCase:function(e){if("string"!==l(e))throw Error("str must be string.");var t=/[a-zA-Z]/.test(e),o=t?e.replace(/\-{1,}/g,"_"):e;if(t){var r=(o=(o=0===(o=o.replace(/\_{1,}/,"_")).indexOf("_")?o.slice(1):o).lastIndexOf("_")===o.length-1?o.slice(0,-1):o).split("_"),n=r.length;if(1<n){for(var a=r[0].toLowerCase(),i="",s=1;s<n;s++){var c=r[s].toLowerCase();1<c.length&&(c=c[0].toUpperCase()+c.slice(1)),i+=c}o=a+i}}return o},vuex:a}});
